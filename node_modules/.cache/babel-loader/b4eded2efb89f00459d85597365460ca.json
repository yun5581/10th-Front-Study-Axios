{"ast":null,"code":"var _jsxFileName = \"/Users/yunizm2/likelion/10th-Front-Study-Axios/src/App.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable */\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  // 받아온 데이터 저장하는 state\n  const [posts, setPosts] = useState([]);\n  const [singlePost, setSinglePost] = useState({});\n  const [comments, setComments] = useState([]); // input에 입력된 게시글과 댓글\n\n  const [newPost, setNewPost] = useState('');\n  const [newComment, setNewComment] = useState(''); // 상세 조회하고자 하는 게시글의 id\n\n  const id = 44; // 새로고침 될 때 마다 실행됩니다.\n\n  useEffect(() => {\n    getPosts();\n    getSinglePost();\n  }, []); // 전체 게시글 조회 함수\n\n  const getPosts = async () => {\n    const response = await axios.get('https://dy6578.pythonanywhere.com/api/posts/').then(response => {\n      setPosts(response.data); // (전체 게시글 저장)\n    }).catch(error => {\n      console.log('전체 글 불러오기 실패', error.message);\n    });\n  }; // 특정 게시글 조회\n\n\n  const getSinglePost = async () => {\n    const response = await axios.get(`https://dy6578.pythonanywhere.com/api/posts/${id}`) //백틱은 연산자 들어갈때\n    .then(response => {\n      setSinglePost(response.data); // ?? (특정 게시글 저장)\n\n      setComments(response.data.comment); // ?? (댓글 저장)\n    }).catch(error => {\n      console.log('글 하나 불러오기 실패');\n    });\n  }; // 새로운 게시글 작성 함수\n\n\n  const PostSubmit = e => {\n    e.preventDefault(); // 아래 코드 중 .post(\"??\", {})에서 { }도 채워주세요 !!\n\n    axios.post('https://dy6578.pythonanywhere.com/api/posts/', {\n      title: '제목',\n      author: 1,\n      content: newPost\n    }).then(response => {\n      getPosts(); // ?? (게시글 불러오기)\n    }).catch(error => {\n      console.log('작성 실패');\n    });\n    setNewPost(''); // ???? (input 비우기)\n  }; // 새로운 댓글 작성 함수\n\n\n  const CommentSubmit = e => {\n    e.preventDefault(); // 아래 코드 중 .post(\"????\", { })에서 { }도 채워주세요 !!\n\n    axios.post('https://dy6578.pythonanywhere.com/api/commenets/', {\n      post: id,\n      author: 1,\n      content: newComment\n    }).then(response => {\n      getPosts(); // ?? (게시글 불러오기)\n\n      getSinglePost(); // ?? (특정 게시글 불러오기)\n    }).catch(function (error) {\n      console.log('댓글 작성 실패', error);\n    });\n    setNewComment(''); // ??? (input 비우기)\n  }; // 게시글 삭제 함수\n\n\n  const onDelete = id => {\n    axios.delete(`https://dy6578.pythonanywhere.com/api/posts/${id}`).then(response => {\n      getPosts(response.data); // ???? (전체 게시글 불러오기)\n    }).catch(error => {\n      console.log('삭제 실패', error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: PostSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\uC0C8 \\uAC8C\\uC2DC\\uAE00 \\uC791\\uC131\\uD558\\uAE30 \",\n        value: newPost,\n        onChange: e => setNewPost(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"\\uC791\\uC131\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 4\n    }, this), posts.map(post => {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          border: '1px solid red'\n        },\n        children: [post.content, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onDelete(post.id),\n          children: \"\\uC0AD\\uC81C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 6\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: '1px solid blue'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: singlePost.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 5\n      }, this), comments.map(comment => {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u3134 \", comment.content]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: CommentSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"\\uB313\\uAE00 \\uC791\\uC131\\uD558\\uAE30\",\n          value: newComment,\n          onChange: e => setNewComment(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"\\uC791\\uC131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 3\n  }, this);\n}\n\n_s(App, \"mcmzJR9ErvAPk/eFgQfmc0vQLAc=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","App","posts","setPosts","singlePost","setSinglePost","comments","setComments","newPost","setNewPost","newComment","setNewComment","id","getPosts","getSinglePost","response","get","then","data","catch","error","console","log","message","comment","PostSubmit","e","preventDefault","post","title","author","content","CommentSubmit","onDelete","delete","target","value","map","border"],"sources":["/Users/yunizm2/likelion/10th-Front-Study-Axios/src/App.js"],"sourcesContent":["/* eslint-disable */\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n\t// 받아온 데이터 저장하는 state\n\tconst [posts, setPosts] = useState([]);\n\tconst [singlePost, setSinglePost] = useState({});\n\tconst [comments, setComments] = useState([]);\n\n\t// input에 입력된 게시글과 댓글\n\tconst [newPost, setNewPost] = useState('');\n\tconst [newComment, setNewComment] = useState('');\n\n\t// 상세 조회하고자 하는 게시글의 id\n\tconst id = 44;\n\n\t// 새로고침 될 때 마다 실행됩니다.\n\tuseEffect(() => {\n\t\tgetPosts();\n\t\tgetSinglePost();\n\t}, []);\n\n\t// 전체 게시글 조회 함수\n\tconst getPosts = async () => {\n\t\tconst response = await axios\n\t\t\t.get('https://dy6578.pythonanywhere.com/api/posts/')\n\t\t\t.then(response => {\n\t\t\t\tsetPosts(response.data); // (전체 게시글 저장)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log('전체 글 불러오기 실패', error.message);\n\t\t\t});\n\t};\n\n\t// 특정 게시글 조회\n\tconst getSinglePost = async () => {\n\t\tconst response = await axios\n\t\t\t.get(`https://dy6578.pythonanywhere.com/api/posts/${id}`) //백틱은 연산자 들어갈때\n\t\t\t.then(response => {\n\t\t\t\tsetSinglePost(response.data); // ?? (특정 게시글 저장)\n\t\t\t\tsetComments(response.data.comment); // ?? (댓글 저장)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log('글 하나 불러오기 실패');\n\t\t\t});\n\t};\n\n\t// 새로운 게시글 작성 함수\n\tconst PostSubmit = e => {\n\t\te.preventDefault();\n\n\t\t// 아래 코드 중 .post(\"??\", {})에서 { }도 채워주세요 !!\n\t\taxios\n\t\t\t.post('https://dy6578.pythonanywhere.com/api/posts/', {\n\t\t\t\ttitle: '제목',\n\t\t\t\tauthor: 1,\n\t\t\t\tcontent: newPost,\n\t\t\t})\n\t\t\t.then(response => {\n\t\t\t\tgetPosts(); // ?? (게시글 불러오기)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log('작성 실패');\n\t\t\t});\n\t\tsetNewPost(''); // ???? (input 비우기)\n\t};\n\n\t// 새로운 댓글 작성 함수\n\tconst CommentSubmit = e => {\n\t\te.preventDefault();\n\n\t\t// 아래 코드 중 .post(\"????\", { })에서 { }도 채워주세요 !!\n\t\taxios\n\t\t\t.post('https://dy6578.pythonanywhere.com/api/commenets/', {\n\t\t\t\tpost: id,\n\t\t\t\tauthor: 1,\n\t\t\t\tcontent: newComment,\n\t\t\t})\n\t\t\t.then(response => {\n\t\t\t\tgetPosts(); // ?? (게시글 불러오기)\n\t\t\t\tgetSinglePost(); // ?? (특정 게시글 불러오기)\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.log('댓글 작성 실패', error);\n\t\t\t});\n\t\tsetNewComment(''); // ??? (input 비우기)\n\t};\n\n\t// 게시글 삭제 함수\n\tconst onDelete = id => {\n\t\taxios\n\t\t\t.delete(`https://dy6578.pythonanywhere.com/api/posts/${id}`)\n\t\t\t.then(response => {\n\t\t\t\tgetPosts(response.data); // ???? (전체 게시글 불러오기)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log('삭제 실패', error);\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<form onSubmit={PostSubmit}>\n\t\t\t\t<input\n\t\t\t\t\tplaceholder=\"새 게시글 작성하기 \"\n\t\t\t\t\tvalue={newPost}\n\t\t\t\t\tonChange={e => setNewPost(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<button>작성</button>\n\t\t\t</form>\n\n\t\t\t{posts.map(post => {\n\t\t\t\treturn (\n\t\t\t\t\t<p style={{ border: '1px solid red' }}>\n\t\t\t\t\t\t{post.content}\n\t\t\t\t\t\t<button onClick={() => onDelete(post.id)}>삭제</button>\n\t\t\t\t\t</p>\n\t\t\t\t);\n\t\t\t})}\n\n\t\t\t<div style={{ border: '1px solid blue' }}>\n\t\t\t\t<h1>{singlePost.content}</h1>\n\t\t\t\t{comments.map(comment => {\n\t\t\t\t\treturn <p>ㄴ {comment.content}</p>;\n\t\t\t\t})}\n\n\t\t\t\t<form onSubmit={CommentSubmit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"댓글 작성하기\"\n\t\t\t\t\t\tvalue={newComment}\n\t\t\t\t\t\tonChange={e => setNewComment(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<button>작성</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default App;\n"],"mappings":";;;AAAA;AAEA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,GAAT,GAAe;EAAA;;EACd;EACA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACM,UAAD,EAAaC,aAAb,IAA8BP,QAAQ,CAAC,EAAD,CAA5C;EACA,MAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC,CAJc,CAMd;;EACA,MAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACY,UAAD,EAAaC,aAAb,IAA8Bb,QAAQ,CAAC,EAAD,CAA5C,CARc,CAUd;;EACA,MAAMc,EAAE,GAAG,EAAX,CAXc,CAad;;EACAb,SAAS,CAAC,MAAM;IACfc,QAAQ;IACRC,aAAa;EACb,CAHQ,EAGN,EAHM,CAAT,CAdc,CAmBd;;EACA,MAAMD,QAAQ,GAAG,YAAY;IAC5B,MAAME,QAAQ,GAAG,MAAMf,KAAK,CAC1BgB,GADqB,CACjB,8CADiB,EAErBC,IAFqB,CAEhBF,QAAQ,IAAI;MACjBZ,QAAQ,CAACY,QAAQ,CAACG,IAAV,CAAR,CADiB,CACQ;IACzB,CAJqB,EAKrBC,KALqB,CAKfC,KAAK,IAAI;MACfC,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,KAAK,CAACG,OAAlC;IACA,CAPqB,CAAvB;EAQA,CATD,CApBc,CA+Bd;;;EACA,MAAMT,aAAa,GAAG,YAAY;IACjC,MAAMC,QAAQ,GAAG,MAAMf,KAAK,CAC1BgB,GADqB,CAChB,+CAA8CJ,EAAG,EADjC,EACoC;IADpC,CAErBK,IAFqB,CAEhBF,QAAQ,IAAI;MACjBV,aAAa,CAACU,QAAQ,CAACG,IAAV,CAAb,CADiB,CACa;;MAC9BX,WAAW,CAACQ,QAAQ,CAACG,IAAT,CAAcM,OAAf,CAAX,CAFiB,CAEmB;IACpC,CALqB,EAMrBL,KANqB,CAMfC,KAAK,IAAI;MACfC,OAAO,CAACC,GAAR,CAAY,cAAZ;IACA,CARqB,CAAvB;EASA,CAVD,CAhCc,CA4Cd;;;EACA,MAAMG,UAAU,GAAGC,CAAC,IAAI;IACvBA,CAAC,CAACC,cAAF,GADuB,CAGvB;;IACA3B,KAAK,CACH4B,IADF,CACO,8CADP,EACuD;MACrDC,KAAK,EAAE,IAD8C;MAErDC,MAAM,EAAE,CAF6C;MAGrDC,OAAO,EAAEvB;IAH4C,CADvD,EAMES,IANF,CAMOF,QAAQ,IAAI;MACjBF,QAAQ,GADS,CACL;IACZ,CARF,EASEM,KATF,CASQC,KAAK,IAAI;MACfC,OAAO,CAACC,GAAR,CAAY,OAAZ;IACA,CAXF;IAYAb,UAAU,CAAC,EAAD,CAAV,CAhBuB,CAgBP;EAChB,CAjBD,CA7Cc,CAgEd;;;EACA,MAAMuB,aAAa,GAAGN,CAAC,IAAI;IAC1BA,CAAC,CAACC,cAAF,GAD0B,CAG1B;;IACA3B,KAAK,CACH4B,IADF,CACO,kDADP,EAC2D;MACzDA,IAAI,EAAEhB,EADmD;MAEzDkB,MAAM,EAAE,CAFiD;MAGzDC,OAAO,EAAErB;IAHgD,CAD3D,EAMEO,IANF,CAMOF,QAAQ,IAAI;MACjBF,QAAQ,GADS,CACL;;MACZC,aAAa,GAFI,CAEA;IACjB,CATF,EAUEK,KAVF,CAUQ,UAAUC,KAAV,EAAiB;MACvBC,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,KAAxB;IACA,CAZF;IAaAT,aAAa,CAAC,EAAD,CAAb,CAjB0B,CAiBP;EACnB,CAlBD,CAjEc,CAqFd;;;EACA,MAAMsB,QAAQ,GAAGrB,EAAE,IAAI;IACtBZ,KAAK,CACHkC,MADF,CACU,+CAA8CtB,EAAG,EAD3D,EAEEK,IAFF,CAEOF,QAAQ,IAAI;MACjBF,QAAQ,CAACE,QAAQ,CAACG,IAAV,CAAR,CADiB,CACQ;IACzB,CAJF,EAKEC,KALF,CAKQC,KAAK,IAAI;MACfC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;IACA,CAPF;EAQA,CATD;;EAWA,oBACC;IAAA,wBACC;MAAM,QAAQ,EAAEK,UAAhB;MAAA,wBACC;QACC,WAAW,EAAC,qDADb;QAEC,KAAK,EAAEjB,OAFR;QAGC,QAAQ,EAAEkB,CAAC,IAAIjB,UAAU,CAACiB,CAAC,CAACS,MAAF,CAASC,KAAV;MAH1B;QAAA;QAAA;QAAA;MAAA,QADD,eAMC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAND;IAAA;MAAA;MAAA;MAAA;IAAA,QADD,EAUElC,KAAK,CAACmC,GAAN,CAAUT,IAAI,IAAI;MAClB,oBACC;QAAG,KAAK,EAAE;UAAEU,MAAM,EAAE;QAAV,CAAV;QAAA,WACEV,IAAI,CAACG,OADP,eAEC;UAAQ,OAAO,EAAE,MAAME,QAAQ,CAACL,IAAI,CAAChB,EAAN,CAA/B;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFD;MAAA;QAAA;QAAA;QAAA;MAAA,QADD;IAMA,CAPA,CAVF,eAmBC;MAAK,KAAK,EAAE;QAAE0B,MAAM,EAAE;MAAV,CAAZ;MAAA,wBACC;QAAA,UAAKlC,UAAU,CAAC2B;MAAhB;QAAA;QAAA;QAAA;MAAA,QADD,EAEEzB,QAAQ,CAAC+B,GAAT,CAAab,OAAO,IAAI;QACxB,oBAAO;UAAA,sBAAMA,OAAO,CAACO,OAAd;QAAA;UAAA;UAAA;UAAA;QAAA,QAAP;MACA,CAFA,CAFF,eAMC;QAAM,QAAQ,EAAEC,aAAhB;QAAA,wBACC;UACC,WAAW,EAAC,uCADb;UAEC,KAAK,EAAEtB,UAFR;UAGC,QAAQ,EAAEgB,CAAC,IAAIf,aAAa,CAACe,CAAC,CAACS,MAAF,CAASC,KAAV;QAH7B;UAAA;UAAA;UAAA;QAAA,QADD,eAMC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAND;MAAA;QAAA;QAAA;QAAA;MAAA,QAND;IAAA;MAAA;MAAA;MAAA;IAAA,QAnBD;EAAA;IAAA;IAAA;IAAA;EAAA,QADD;AAqCA;;GAtIQnC,G;;KAAAA,G;AAwIT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}